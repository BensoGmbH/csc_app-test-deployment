import{Y as ae,ay as Q,az as ee,aA as ie,r as E,aB as D,aC as W,aD as F,aE as oe,y as le,a2 as ce,u as ue,aF as de,ao as me,ap as R,aq as pe,j as n,F as fe,G as he,a1 as xe,J as ye,H as ge,K as be,ar as je,as as U,at as H,au as z,aG as ve,t as Ne,O as Ee,aw as M,av as J,I as G,B as Ce,$ as X,ax as we}from"./index-DBMRuhZV.js";import{C as Ae}from"./check-CuyFvX7J.js";var $e={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const Se=ae($e);var Te=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Z(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},s=e.match(/<\/?([^\s]+?)[/\s>]/);if(s&&(t.name=s[1],(Se[s[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var l=new RegExp(Te),i=null;(i=l.exec(e))!==null;)if(i[0].trim())if(i[1]){var p=i[1].trim(),f=[p,""];p.indexOf("=")>-1&&(f=p.split("=")),t.attrs[f[0]]=f[1],l.lastIndex--}else i[2]&&(t.attrs[i[2]]=i[3].trim().substring(1,i[3].length-1));return t}var ke=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Fe=/^\s*$/,Oe=Object.create(null);function te(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(s){var r=[];for(var l in s)r.push(l+'="'+s[l]+'"');return r.length?" "+r.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(te,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var Pe={parse:function(e,t){t||(t={}),t.components||(t.components=Oe);var s,r=[],l=[],i=-1,p=!1;if(e.indexOf("<")!==0){var f=e.indexOf("<");r.push({type:"text",content:f===-1?e:e.substring(0,f)})}return e.replace(ke,function(u,v){if(p){if(u!=="</"+s.name+">")return;p=!1}var o,c=u.charAt(1)!=="/",g=u.startsWith("<!--"),j=v+u.length,m=e.charAt(j);if(g){var $=Z(u);return i<0?(r.push($),r):((o=l[i]).children.push($),r)}if(c&&(i++,(s=Z(u)).type==="tag"&&t.components[s.name]&&(s.type="component",p=!0),s.voidElement||p||!m||m==="<"||s.children.push({type:"text",content:e.slice(j,e.indexOf("<",j))}),i===0&&r.push(s),(o=l[i-1])&&o.children.push(s),l[i]=s),(!c||s.voidElement)&&(i>-1&&(s.voidElement||s.name===u.slice(2,-1))&&(i--,s=i===-1?r:l[i]),!p&&m!=="<"&&m)){o=i===-1?r:l[i].children;var y=e.indexOf("<",j),d=e.slice(j,y===-1?void 0:y);Fe.test(d)&&(d=" "),(y>-1&&i+o.length>=0||d!==" ")&&o.push({type:"text",content:d})}}),r},stringify:function(e){return e.reduce(function(t,s){return t+te("",s)},"")}};const Y=(e,t)=>{var r;if(!e)return!1;const s=((r=e.props)==null?void 0:r.children)??e.children;return t?s.length>0:!!s},q=e=>{var s,r;if(!e)return[];const t=((s=e.props)==null?void 0:s.children)??e.children;return(r=e.props)!=null&&r.i18nIsDynamicList?P(t):t},Ie=e=>Array.isArray(e)&&e.every(E.isValidElement),P=e=>Array.isArray(e)?e:[e],Le=(e,t)=>{const s={...t};return s.props=Object.assign(e.props,t.props),s},se=(e,t,s,r)=>{if(!e)return"";let l="";const i=P(e),p=t!=null&&t.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return i.forEach((f,u)=>{if(D(f)){l+=`${f}`;return}if(E.isValidElement(f)){const{props:v,type:o}=f,c=Object.keys(v).length,g=p.indexOf(o)>-1,j=v.children;if(!j&&g&&!c){l+=`<${o}/>`;return}if(!j&&(!g||c)||v.i18nIsDynamicList){l+=`<${u}></${u}>`;return}if(g&&c===1&&D(j)){l+=`<${o}>${j}</${o}>`;return}const m=se(j,t,s,r);l+=`<${u}>${m}</${u}>`;return}if(f===null){W(s,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:r});return}if(F(f)){const{format:v,...o}=f,c=Object.keys(o);if(c.length===1){const g=v?`${c[0]}, ${v}`:c[0];l+=`{{${g}}}`;return}W(s,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:r,child:f});return}W(s,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:r,child:f})}),l},De=(e,t,s,r,l,i,p)=>{if(s==="")return[];const f=l.transKeepBasicHtmlNodesFor||[],u=s&&new RegExp(f.map(d=>`<${d}`).join("|")).test(s);if(!e&&!t&&!u&&!p)return[s];const v=t??{},o=d=>{P(d).forEach(h=>{D(h)||(Y(h)?o(q(h)):F(h)&&!E.isValidElement(h)&&Object.assign(v,h))})};o(e);const c=Pe.parse(`<0>${s}</0>`),g={...v,...i},j=(d,C,h)=>{var x;const w=q(d),T=$(w,C.children,h);return Ie(w)&&T.length===0||(x=d.props)!=null&&x.i18nIsDynamicList?w:T},m=(d,C,h,w,T)=>{d.dummy?(d.children=C,h.push(E.cloneElement(d,{key:w},T?void 0:C))):h.push(...E.Children.map([d],x=>{const a={...x.props};return delete a.i18nIsDynamicList,E.createElement(x.type,{...a,key:w,ref:x.props.ref??x.ref},T?null:C)}))},$=(d,C,h)=>{const w=P(d);return P(C).reduce((x,a,S)=>{var I,L;const k=((L=(I=a.children)==null?void 0:I[0])==null?void 0:L.content)&&r.services.interpolator.interpolate(a.children[0].content,g,r.language);if(a.type==="tag"){let A=w[parseInt(a.name,10)];!A&&t&&(A=t[a.name]),h.length===1&&!A&&(A=h[0][a.name]),A||(A={});const b=Object.keys(a.attrs).length!==0?Le({props:a.attrs},A):A,O=E.isValidElement(b),V=O&&Y(a,!0)&&!a.voidElement,B=u&&F(b)&&b.dummy&&!O,_=F(t)&&Object.hasOwnProperty.call(t,a.name);if(D(b)){const N=r.services.interpolator.interpolate(b,g,r.language);x.push(N)}else if(Y(b)||V){const N=j(b,a,h);m(b,N,x,S)}else if(B){const N=$(w,a.children,h);m(b,N,x,S)}else if(Number.isNaN(parseFloat(a.name)))if(_){const N=j(b,a,h);m(b,N,x,S,a.voidElement)}else if(l.transSupportBasicHtmlNodes&&f.indexOf(a.name)>-1)if(a.voidElement)x.push(E.createElement(a.name,{key:`${a.name}-${S}`}));else{const N=$(w,a.children,h);x.push(E.createElement(a.name,{key:`${a.name}-${S}`},N))}else if(a.voidElement)x.push(`<${a.name} />`);else{const N=$(w,a.children,h);x.push(`<${a.name}>${N}</${a.name}>`)}else if(F(b)&&!O){const N=a.children[0]?k:null;N&&x.push(N)}else m(b,k,x,S,a.children.length!==1||!k)}else if(a.type==="text"){const A=l.transWrapTextNodes,b=p?l.unescape(r.services.interpolator.interpolate(a.content,g,r.language)):r.services.interpolator.interpolate(a.content,g,r.language);A?x.push(E.createElement(A,{key:`${a.name}-${S}`},b)):x.push(b)}return x},[])},y=$([{dummy:!0,children:e||[]}],c,P(e||[]));return q(y[0])},re=(e,t,s)=>{const r=e.key||t,l=E.cloneElement(e,{key:r});if(!l.props||!l.props.children||s.indexOf(`${t}/>`)<0&&s.indexOf(`${t} />`)<0)return l;function i(){return E.createElement(E.Fragment,null,l)}return E.createElement(i,{key:r})},Ve=(e,t)=>e.map((s,r)=>re(s,r,t)),Be=(e,t)=>{const s={};return Object.keys(e).forEach(r=>{Object.assign(s,{[r]:re(e[r],r,t)})}),s},_e=(e,t,s,r)=>e?Array.isArray(e)?Ve(e,t):F(e)?Be(e,t):(Q(s,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:r}),null):null,Ue=e=>!F(e)||Array.isArray(e)?!1:Object.keys(e).reduce((t,s)=>t&&Number.isNaN(Number.parseFloat(s)),!0);function He({children:e,count:t,parent:s,i18nKey:r,context:l,tOptions:i={},values:p,defaults:f,components:u,ns:v,i18n:o,t:c,shouldUnescape:g,...j}){var O,V,B,_,N,K;const m=o||ee();if(!m)return Q(m,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:r}),e;const $=c||m.t.bind(m)||(ne=>ne),y={...ie(),...(O=m.options)==null?void 0:O.react};let d=v||$.ns||((V=m.options)==null?void 0:V.defaultNS);d=D(d)?[d]:d||["translation"];const C=se(e,y,m,r),h=f||C||y.transEmptyNodeValue||r,{hashTransKey:w}=y,T=r||(w?w(C||h):C||h);(_=(B=m.options)==null?void 0:B.interpolation)!=null&&_.defaultVariables&&(p=p&&Object.keys(p).length>0?{...p,...m.options.interpolation.defaultVariables}:{...m.options.interpolation.defaultVariables});const x=p||t!==void 0&&!((K=(N=m.options)==null?void 0:N.interpolation)!=null&&K.alwaysFormat)||!e?i.interpolation:{interpolation:{...i.interpolation,prefix:"#$?",suffix:"?$#"}},a={...i,context:l||i.context,count:t,...p,...x,defaultValue:h,ns:d},S=T?$(T,a):h,k=_e(u,S,m,r);let I=k||e,L=null;Ue(k)&&(L=k,I=e);const A=De(I,L,S,m,y,a,g),b=s??y.defaultTransParent;return b?E.createElement(b,j,A):A}function ze({children:e,count:t,parent:s,i18nKey:r,context:l,tOptions:i={},values:p,defaults:f,components:u,ns:v,i18n:o,t:c,shouldUnescape:g,...j}){var C;const{i18n:m,defaultNS:$}=E.useContext(oe)||{},y=o||m||ee(),d=c||(y==null?void 0:y.t.bind(y));return He({children:e,count:t,parent:s,i18nKey:r,context:l,tOptions:i,values:p,defaults:f,components:u,ns:v||(d==null?void 0:d.ns)||$||((C=y==null?void 0:y.options)==null?void 0:C.defaultNS),i18n:y,t:c,shouldUnescape:g,...j})}function Re(){const{t:e}=le("auth"),[,t]=ce(),{signUp:s}=ue(),[r,l]=E.useState(""),i=[{id:"free",name:"Free",priceLine:"$0 / month",subline:"forever",badge:null,features:["50 Sync Credits per month","Connect 1 broker","Manual trade synchronization","Full access to dashboard & insights"],disabled:!1},{id:"free_beta",name:"Free Beta",priceLine:"$0 / month",subline:"for a limited time",badge:"Limited Time",features:["100 Sync Credits","Connect unlimited brokers","Priority access to new features","Direct line to the developers"],disabled:!1},{id:"pro",name:"Pro",priceLine:"Coming Soon",subline:"per month",badge:null,features:["Everything in Free, plus:","Unlimited Sync Credits","Auto-sync your trades","Connect unlimited brokers","Priority Support"],disabled:!0}],p=de(["free","free_beta"]),f=me({email:R().email(e("zod.emailInvalid")),password:R().min(6,e("zod.passwordMin")),confirmPassword:R(),plan:p}).refine(o=>o.password===o.confirmPassword,{message:e("zod.passwordsDontMatch"),path:["confirmPassword"]}),u=pe({resolver:we(f),defaultValues:{email:"",password:"",confirmPassword:"",plan:"free"}}),v=async o=>{try{l(""),await s(o.email,o.password,o.plan),t("~/dashboard",{replace:!0})}catch(c){l(c instanceof Error?c.message:e("signUpFailed"))}};return n.jsx("div",{className:"min-h-screen crypto-pattern flex items-center justify-center p-4",children:n.jsxs(fe,{className:"w-full max-w-3xl",children:[n.jsxs(he,{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-12 h-12 gradient-bg rounded-lg flex items-center justify-center mb-4",children:n.jsx(xe,{className:"w-9 h-9",forcedTheme:"dark"})}),n.jsx(ye,{className:"text-2xl font-bold",children:e("signUp")}),n.jsx(ge,{children:e("signUpDescription")})]}),n.jsxs(be,{className:"space-y-6",children:[n.jsx(je,{...u,children:n.jsxs("form",{onSubmit:u.handleSubmit(v),className:"space-y-6",children:[n.jsx(U,{control:u.control,name:"plan",render:({field:o})=>n.jsxs(H,{children:[n.jsx(z,{children:"Choose your plan"}),n.jsx(ve,{children:"Select the plan that best matches how you want to start syncing."}),n.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:i.map(c=>n.jsxs("button",{type:"button",onClick:()=>!c.disabled&&o.onChange(c.id),className:Ne("relative flex h-full w-full flex-col rounded-xl border p-4 text-left transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",o.value===c.id&&!c.disabled?"border-primary shadow-lg":"border-border",c.disabled&&"cursor-not-allowed opacity-60"),"aria-pressed":o.value===c.id,disabled:c.disabled,children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-semibold",children:c.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:c.priceLine}),n.jsx("p",{className:"text-xs text-muted-foreground",children:c.subline})]}),c.badge&&n.jsx(Ee,{variant:"secondary",children:c.badge})]}),n.jsx("ul",{className:"mt-4 space-y-2 text-sm",children:c.features.map(g=>n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Ae,{className:"h-4 w-4 text-primary mt-0.5"}),n.jsx("span",{children:g})]},g))}),c.disabled&&n.jsx("p",{className:"mt-4 text-sm font-medium text-muted-foreground",children:"Coming Soon"})]},c.id))}),n.jsx(M,{})]})}),n.jsx(U,{control:u.control,name:"email",render:({field:o})=>n.jsxs(H,{children:[n.jsx(z,{children:e("email")}),n.jsx(J,{children:n.jsx(G,{type:"email",placeholder:e("emailPlaceholder"),"data-testid":"input-email",...o})}),n.jsx(M,{})]})}),n.jsx(U,{control:u.control,name:"password",render:({field:o})=>n.jsxs(H,{children:[n.jsx(z,{children:e("password")}),n.jsx(J,{children:n.jsx(G,{type:"password",placeholder:e("passwordPlaceholder"),"data-testid":"input-password",...o})}),n.jsx(M,{})]})}),n.jsx(U,{control:u.control,name:"confirmPassword",render:({field:o})=>n.jsxs(H,{children:[n.jsx(z,{children:e("confirmPassword")}),n.jsx(J,{children:n.jsx(G,{type:"password",placeholder:e("confirmPasswordPlaceholder"),"data-testid":"input-confirm-password",...o})}),n.jsx(M,{})]})}),r&&n.jsx("div",{className:"text-sm text-destructive text-center","data-testid":"error-message",children:r}),n.jsx(Ce,{type:"submit",className:"w-full",disabled:u.formState.isSubmitting,"data-testid":"button-signup",children:u.formState.isSubmitting?e("signingUp"):e("signUp")})]})}),n.jsx("div",{className:"text-center text-xs text-muted-foreground px-4",children:n.jsx(ze,{i18nKey:"legalAgreement",ns:"auth",components:{terms:n.jsx(X,{href:"~/terms",className:"underline hover:text-primary"}),privacy:n.jsx(X,{href:"~/privacy-policy",className:"underline hover:text-primary"})},defaults:"By creating an account, you agree to our <terms>Terms of Service</terms> and <privacy>Privacy Policy</privacy>."})}),n.jsx("div",{className:"mt-4 text-center",children:n.jsx(X,{href:"/signin",className:"text-sm text-primary hover:text-primary/80 transition-colors",children:e("hasAccount")})})]})]})})}export{Re as default};
