import{y as b,u as w,r,ao as v,ap as S,aq as F,j as e,F as d,G as m,J as x,H as h,K as u,$ as j,a1 as k,ar as C,as as E,at as I,au as T,av as L,I as P,aw as D,B as R,ax as A}from"./index-DBMRuhZV.js";import{A as M,b as B}from"./alert-CEvXgpj2.js";import{M as H}from"./mail-AeRyCJzK.js";function G({}){const{t:s}=b("auth"),{resetPassword:f}=w(),[i,n]=r.useState(""),[p,g]=r.useState(!1),[l,c]=r.useState(!1),y=v({email:S().email(s("zod.emailInvalid"))}),t=F({resolver:A(y),defaultValues:{email:""}}),N=async a=>{try{n(""),c(!0),await f(a.email),g(!0)}catch(o){n(o instanceof Error?o.message:s("passwordResetFailed"))}finally{c(!1)}};return p?e.jsx("div",{className:"min-h-screen crypto-pattern flex items-center justify-center p-4",children:e.jsxs(d,{className:"w-full max-w-md",children:[e.jsxs(m,{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-12 h-12 gradient-bg rounded-lg flex items-center justify-center mb-4",children:e.jsx(H,{className:"w-7 h-7 text-white"})}),e.jsx(x,{className:"text-2xl font-bold",children:s("checkEmail")}),e.jsx(h,{children:s("resetEmailSent")})]}),e.jsxs(u,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground text-center",children:s("resetEmailDescription")}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(j,{href:"/signin",className:"text-sm text-primary hover:text-primary/80 transition-colors","data-testid":"link-back-to-signin",children:s("backToSignIn")})})]})]})}):e.jsx("div",{className:"min-h-screen crypto-pattern flex items-center justify-center p-4",children:e.jsxs(d,{className:"w-full max-w-md",children:[e.jsxs(m,{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-12 h-12 gradient-bg rounded-lg flex items-center justify-center mb-4",children:e.jsx(k,{className:"w-9 h-9",forcedTheme:"dark"})}),e.jsx(x,{className:"text-2xl font-bold",children:s("forgotPassword")}),e.jsx(h,{children:s("forgotPasswordDescription")})]}),e.jsx(u,{children:e.jsx(C,{...t,children:e.jsxs("form",{onSubmit:t.handleSubmit(N),className:"space-y-4",children:[e.jsx(E,{control:t.control,name:"email",render:({field:a})=>e.jsxs(I,{children:[e.jsx(T,{children:s("email")}),e.jsx(L,{children:e.jsx(P,{type:"email",placeholder:s("emailPlaceholder"),"data-testid":"input-email",...a})}),e.jsx(D,{})]})}),i&&e.jsx(M,{variant:"destructive",children:e.jsx(B,{"data-testid":"error-forgot-password",children:i})}),e.jsx(R,{type:"submit",className:"w-full",disabled:l,"data-testid":"button-send-reset",children:s(l?"sendingReset":"sendResetLink")}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(j,{href:"/signin",className:"text-sm text-primary hover:text-primary/80 transition-colors","data-testid":"link-back-to-signin",children:s("backToSignIn")})})]})})})]})})}export{G as default};
