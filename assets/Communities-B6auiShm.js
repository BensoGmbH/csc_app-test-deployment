import{c as y,u as b,a as N,b as x,j as e,B as g,S as v,s as o}from"./index-DBMRuhZV.js";import{u as p}from"./useQuery-B4ix4t-Z.js";import{L as f}from"./loader-circle-O_Y9k5JV.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=y("MessagesSquare",[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z",key:"p1xzt8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=y("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),d=["community-interest"],S=async()=>{const{data:s,error:t}=await o.rpc("get_community_interest_count");if(t)throw new Error(t.message);return s},_=async s=>{if(!s)return!1;const{data:t,error:r}=await o.from("community_interest_signups").select("user_id").eq("user_id",s).maybeSingle();if(r)throw new Error(r.message);return!!t};function I(){const{session:s}=b(),t=N(),{data:r,isLoading:w}=p({queryKey:[...d,"count"],queryFn:S}),{data:a,isLoading:j}=p({queryKey:[...d,"user",s==null?void 0:s.user.id],queryFn:()=>_(s==null?void 0:s.user.id),enabled:!!s}),c=()=>{t.invalidateQueries({queryKey:d})},m=x({mutationFn:async()=>{if(!s)throw new Error("User not logged in");const{error:n}=await o.from("community_interest_signups").insert({user_id:s.user.id});if(n&&n.code!=="23505")throw new Error(n.message)},onSuccess:c}),u=x({mutationFn:async()=>{if(!s)throw new Error("User not logged in");const{error:n}=await o.from("community_interest_signups").delete().eq("user_id",s.user.id);if(n)throw new Error(n.message)},onSuccess:c}),h=()=>{if(!s){console.log("User not logged in. Redirecting to login...");return}a?u.mutate():m.mutate()},i=m.isPending||u.isPending,l=w||j;return e.jsxs("div",{className:"container mx-auto max-w-4xl py-12 px-4 text-center",children:[e.jsxs("section",{className:"mb-20",children:[e.jsx("h1",{className:"text-5xl font-bold tracking-tight mb-4",children:"Would You Join a Trading Community?"}),e.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"We‚Äôre exploring a new feature that would let traders connect, share, and discuss their trades. Your feedback will help us decide whether we should build it."}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(g,{size:"lg",onClick:h,disabled:i||l,children:i?e.jsx(f,{className:"mr-2 h-5 w-5 animate-spin"}):a?e.jsx(e.Fragment,{children:"‚ùå I changed my mind"}):e.jsx("span",{children:"üîî I‚Äôm interested"})}),!l&&r!==void 0&&e.jsx("p",{className:"text-sm text-muted-foreground",children:a?e.jsxs("span",{children:["üéâ You and ",e.jsxs("strong",{children:[r-1," other traders"]})," are on the list!"]}):e.jsxs("span",{children:["üî• Already ",e.jsxs("strong",{children:[r," traders"]})," are interested. Join them!"]})})]})]}),e.jsxs("section",{className:"mb-20",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"How Communities Work"}),e.jsx("p",{className:"text-lg text-muted-foreground mb-10 max-w-2xl mx-auto",children:"Getting started is simple. Here‚Äôs a preview of how you could connect with other traders."}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8 text-center",children:[e.jsxs("div",{className:"flex flex-col items-center p-6 border rounded-lg",children:[e.jsx(v,{className:"w-10 h-10 mb-4 text-primary"}),e.jsx("h3",{className:"font-bold text-lg mb-2",children:"Find Communities"}),e.jsx("p",{className:"text-muted-foreground",children:"Explore groups of skilled traders sharing their strategies, insights, and performance transparently."})]}),e.jsxs("div",{className:"flex flex-col items-center p-6 border rounded-lg",children:[e.jsx(k,{className:"w-10 h-10 mb-4 text-primary"}),e.jsx("h3",{className:"font-bold text-lg mb-2",children:"Follow the Discussion"}),e.jsx("p",{className:"text-muted-foreground",children:"Stay up to date with how experienced traders think, analyze markets, and plan their next moves."})]}),e.jsxs("div",{className:"flex flex-col items-center p-6 border rounded-lg",children:[e.jsx(C,{className:"w-10 h-10 mb-4 text-primary"}),e.jsx("h3",{className:"font-bold text-lg mb-2",children:"Learn & Grow Together"}),e.jsx("p",{className:"text-muted-foreground",children:"Connect with other traders, discuss setups, and level up your performance through shared experience."})]})]})]}),e.jsxs("section",{className:"mb-20 max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Why We‚Äôre Exploring This"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Trading doesn‚Äôt have to be a solo journey. Communities can help traders learn faster, make better decisions, and connect with others who share the same mindset. We‚Äôre currently evaluating whether this feature would add real value for our users."})]}),e.jsxs("section",{className:"mb-20",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"üöÄ Sounds exciting?"}),e.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Let us know if you‚Äôre interested ‚Äî we‚Äôll keep you updated once Communities go live."}),e.jsxs(g,{size:"lg",onClick:h,disabled:i||l,children:[i??e.jsx(f,{className:"mr-2 h-5 w-5 animate-spin"}),a?"‚ùå I changed my mind":"Yes, I‚Äôm interested"]})]}),e.jsxs("section",{className:"mb-20 text-left max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold mb-10 text-center",children:"Frequently Asked Questions"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"What will Communities cost?"}),e.jsx("p",{className:"text-muted-foreground",children:"Nothing for now ‚Äî we‚Äôre currently validating this feature with our users."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"When will it launch?"}),e.jsx("p",{className:"text-muted-foreground",children:"We‚Äôre still shaping the concept. Join the early access list to be the first to try it when the beta is ready."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Can I create my own Community?"}),e.jsx("p",{className:"text-muted-foreground",children:"Yes ‚Äî that‚Äôs part of the plan. You‚Äôll be able to start your own trading group and share your trades directly within the app."})]})]})]}),e.jsxs("section",{children:[e.jsx("p",{className:"text-lg font-semibold",children:"Thank you for helping us shape the future of trading."}),e.jsx("p",{className:"text-muted-foreground",children:"Your feedback and interest directly influence what we build next."})]})]})}export{I as default};
